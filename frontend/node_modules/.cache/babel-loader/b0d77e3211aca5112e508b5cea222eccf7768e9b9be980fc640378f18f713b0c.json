{"ast":null,"code":"import React,{useEffect,useRef}from'react';import L from'leaflet';import'leaflet/dist/leaflet.css';import{jsx as _jsx}from\"react/jsx-runtime\";export default function MapView(_ref){let{sites=[],onSelect}=_ref;const ref=useRef(null);const mapRef=useRef(null);useEffect(()=>{if(!ref.current||mapRef.current)return;const map=L.map(ref.current).setView([31.5,34.47],8);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'© OSM'}).addTo(map);mapRef.current=map;},[]);useEffect(()=>{const map=mapRef.current;if(!map)return;// clear layers first\nmap.eachLayer(layer=>{if(layer instanceof L.Marker)map.removeLayer(layer);});sites.forEach(s=>{const m=L.marker([s.latitude,s.longitude]).addTo(map).bindPopup(\"<b>\".concat(s.title,\"</b>\"));m.on('click',()=>onSelect&&onSelect(s));});},[sites]);return/*#__PURE__*/_jsx(\"div\",{className:\"map card\",ref:ref});}","map":{"version":3,"names":["React","useEffect","useRef","L","jsx","_jsx","MapView","_ref","sites","onSelect","ref","mapRef","current","map","setView","tileLayer","attribution","addTo","eachLayer","layer","Marker","removeLayer","forEach","s","m","marker","latitude","longitude","bindPopup","concat","title","on","className"],"sources":["C:/Users/Admin/Desktop/free-lancer/jornal/frontend/src/components/MapView.jsx"],"sourcesContent":["\nimport React, { useEffect, useRef } from 'react'\nimport L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nexport default function MapView({ sites=[], onSelect }) {\n  const ref = useRef(null)\n  const mapRef = useRef(null)\n\n  useEffect(() => {\n    if(!ref.current || mapRef.current) return\n    const map = L.map(ref.current).setView([31.5, 34.47], 8)\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OSM' }).addTo(map)\n    mapRef.current = map\n  }, [])\n\n  useEffect(() => {\n    const map = mapRef.current\n    if(!map) return\n    // clear layers first\n    map.eachLayer(layer => { if(layer instanceof L.Marker) map.removeLayer(layer) })\n    sites.forEach(s => {\n      const m = L.marker([s.latitude, s.longitude]).addTo(map).bindPopup(`<b>${s.title}</b>`)\n      m.on('click', () => onSelect && onSelect(s))\n    })\n  }, [sites])\n\n  return <div className=\"map card\" ref={ref}></div>\n}\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,CAAC,KAAM,SAAS,CACvB,MAAO,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,yBAEjC,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAyB,IAAxB,CAAEC,KAAK,CAAC,EAAE,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACpD,KAAM,CAAAG,GAAG,CAAGR,MAAM,CAAC,IAAI,CAAC,CACxB,KAAM,CAAAS,MAAM,CAAGT,MAAM,CAAC,IAAI,CAAC,CAE3BD,SAAS,CAAC,IAAM,CACd,GAAG,CAACS,GAAG,CAACE,OAAO,EAAID,MAAM,CAACC,OAAO,CAAE,OACnC,KAAM,CAAAC,GAAG,CAAGV,CAAC,CAACU,GAAG,CAACH,GAAG,CAACE,OAAO,CAAC,CAACE,OAAO,CAAC,CAAC,IAAI,CAAE,KAAK,CAAC,CAAE,CAAC,CAAC,CACxDX,CAAC,CAACY,SAAS,CAAC,oDAAoD,CAAE,CAAEC,WAAW,CAAE,OAAQ,CAAC,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC,CACtGF,MAAM,CAACC,OAAO,CAAGC,GAAG,CACtB,CAAC,CAAE,EAAE,CAAC,CAENZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,GAAG,CAAGF,MAAM,CAACC,OAAO,CAC1B,GAAG,CAACC,GAAG,CAAE,OACT;AACAA,GAAG,CAACK,SAAS,CAACC,KAAK,EAAI,CAAE,GAAGA,KAAK,WAAY,CAAAhB,CAAC,CAACiB,MAAM,CAAEP,GAAG,CAACQ,WAAW,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,CAChFX,KAAK,CAACc,OAAO,CAACC,CAAC,EAAI,CACjB,KAAM,CAAAC,CAAC,CAAGrB,CAAC,CAACsB,MAAM,CAAC,CAACF,CAAC,CAACG,QAAQ,CAAEH,CAAC,CAACI,SAAS,CAAC,CAAC,CAACV,KAAK,CAACJ,GAAG,CAAC,CAACe,SAAS,OAAAC,MAAA,CAAON,CAAC,CAACO,KAAK,QAAM,CAAC,CACvFN,CAAC,CAACO,EAAE,CAAC,OAAO,CAAE,IAAMtB,QAAQ,EAAIA,QAAQ,CAACc,CAAC,CAAC,CAAC,CAC9C,CAAC,CAAC,CACJ,CAAC,CAAE,CAACf,KAAK,CAAC,CAAC,CAEX,mBAAOH,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAACtB,GAAG,CAAEA,GAAI,CAAM,CAAC,CACnD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}