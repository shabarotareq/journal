{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\free-lancer\\\\jornal\\\\frontend\\\\src\\\\components\\\\UploadForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { createSite, uploadMedia } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadForm({\n  token,\n  onCreated\n}) {\n  _s();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [lat, setLat] = useState(31.5);\n  const [lng, setLng] = useState(34.47);\n  const [modelFile, setModelFile] = useState(null);\n  async function submit(e) {\n    e.preventDefault();\n    const sitePayload = {\n      title,\n      description,\n      latitude: parseFloat(lat),\n      longitude: parseFloat(lng),\n      media: []\n    };\n    const site = await createSite(token, sitePayload);\n    if (modelFile) {\n      await uploadMedia(token, site.id, 'model3d', modelFile, 'AR model');\n    }\n    onCreated && onCreated(site);\n    setTitle('');\n    setDescription('');\n    setModelFile(null);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"card\",\n    onSubmit: submit,\n    style: {\n      display: 'grid',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        margin: 0\n      },\n      children: \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0648\\u0642\\u0639 \\u062C\\u062F\\u064A\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0627\\u0644\\u0648\\u0635\\u0641\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: 3,\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      style: {\n        gridTemplateColumns: '1fr 1fr'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u062E\\u0637 \\u0627\\u0644\\u0639\\u0631\\u0636\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.000001\",\n          value: lat,\n          onChange: e => setLat(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u062E\\u0637 \\u0627\\u0644\\u0637\\u0648\\u0644\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.000001\",\n          value: lng,\n          onChange: e => setLng(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0645\\u0644\\u0641 \\u0646\\u0645\\u0648\\u0630\\u062C \\u062B\\u0644\\u0627\\u062B\\u064A \\u0627\\u0644\\u0623\\u0628\\u0639\\u0627\\u062F (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A .glb/.gltf)\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".glb,.gltf\",\n        onChange: e => setModelFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      type: \"submit\",\n      children: \"\\u062D\\u0641\\u0638\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadForm, \"KJPGgl/Tv5cfnlzct92LAtGDgLk=\");\n_c = UploadForm;\nvar _c;\n$RefreshReg$(_c, \"UploadForm\");","map":{"version":3,"names":["React","useState","createSite","uploadMedia","jsxDEV","_jsxDEV","UploadForm","token","onCreated","_s","title","setTitle","description","setDescription","lat","setLat","lng","setLng","modelFile","setModelFile","submit","e","preventDefault","sitePayload","latitude","parseFloat","longitude","media","site","id","className","onSubmit","style","display","gap","children","margin","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","required","rows","gridTemplateColumns","type","step","accept","files","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/free-lancer/jornal/frontend/src/components/UploadForm.jsx"],"sourcesContent":["\nimport React, { useState } from 'react'\nimport { createSite, uploadMedia } from '../api'\n\nexport default function UploadForm({ token, onCreated }) {\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [lat, setLat] = useState(31.5)\n  const [lng, setLng] = useState(34.47)\n  const [modelFile, setModelFile] = useState(null)\n\n  async function submit(e) {\n    e.preventDefault()\n    const sitePayload = {\n      title, description,\n      latitude: parseFloat(lat), longitude: parseFloat(lng),\n      media: []\n    }\n    const site = await createSite(token, sitePayload)\n    if (modelFile) {\n      await uploadMedia(token, site.id, 'model3d', modelFile, 'AR model')\n    }\n    onCreated && onCreated(site)\n    setTitle(''); setDescription(''); setModelFile(null)\n  }\n\n  return (\n    <form className=\"card\" onSubmit={submit} style={{display:'grid', gap:12}}>\n      <h3 style={{margin:0}}>إضافة موقع جديد</h3>\n      <label>العنوان<input value={title} onChange={e=>setTitle(e.target.value)} required/></label>\n      <label>الوصف<textarea rows={3} value={description} onChange={e=>setDescription(e.target.value)} /></label>\n      <div className=\"grid\" style={{gridTemplateColumns:'1fr 1fr'}}>\n        <label>خط العرض<input type=\"number\" step=\"0.000001\" value={lat} onChange={e=>setLat(e.target.value)} /></label>\n        <label>خط الطول<input type=\"number\" step=\"0.000001\" value={lng} onChange={e=>setLng(e.target.value)} /></label>\n      </div>\n      <label>ملف نموذج ثلاثي الأبعاد (اختياري .glb/.gltf)<input type=\"file\" accept=\".glb,.gltf\" onChange={e=>setModelFile(e.target.files[0])} /></label>\n      <button className=\"btn\" type=\"submit\">حفظ</button>\n    </form>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}