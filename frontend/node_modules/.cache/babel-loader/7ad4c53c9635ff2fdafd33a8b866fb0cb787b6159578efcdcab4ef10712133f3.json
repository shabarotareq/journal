{"ast":null,"code":"const API_BASE=import.meta.env.VITE_API_BASE||'http://localhost:8000';export async function login(email,password){const form=new URLSearchParams();form.append('username',email);form.append('password',password);const res=await fetch(\"\".concat(API_BASE,\"/auth/login\"),{method:'POST',body:form});if(!res.ok)throw new Error('Login failed');return res.json();}export async function register(data){const res=await fetch(\"\".concat(API_BASE,\"/auth/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!res.ok)throw new Error('Register failed');return res.json();}export async function listSites(){const res=await fetch(\"\".concat(API_BASE,\"/sites/\"));return res.json();}export async function createSite(token,payload){const res=await fetch(\"\".concat(API_BASE,\"/sites/\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok)throw new Error('Create site failed');return res.json();}export async function uploadMedia(token,siteId,type,file){let title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';const fd=new FormData();fd.append('site_id',siteId);fd.append('type',type);fd.append('title',title);fd.append('file',file);const res=await fetch(\"\".concat(API_BASE,\"/media/upload\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:fd});if(!res.ok)throw new Error('Upload failed');return res.json();}","map":{"version":3,"names":["API_BASE","import","meta","env","VITE_API_BASE","login","email","password","form","URLSearchParams","append","res","fetch","concat","method","body","ok","Error","json","register","data","headers","JSON","stringify","listSites","createSite","token","payload","uploadMedia","siteId","type","file","title","arguments","length","undefined","fd","FormData"],"sources":["C:/Users/Admin/Desktop/free-lancer/jornal/frontend/src/api.js"],"sourcesContent":["\nconst API_BASE = import.meta.env.VITE_API_BASE || 'http://localhost:8000'\n\nexport async function login(email, password) {\n  const form = new URLSearchParams()\n  form.append('username', email)\n  form.append('password', password)\n  const res = await fetch(`${API_BASE}/auth/login`, { method:'POST', body: form })\n  if(!res.ok) throw new Error('Login failed')\n  return res.json()\n}\n\nexport async function register(data) {\n  const res = await fetch(`${API_BASE}/auth/register`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data) })\n  if(!res.ok) throw new Error('Register failed')\n  return res.json()\n}\n\nexport async function listSites() {\n  const res = await fetch(`${API_BASE}/sites/`)\n  return res.json()\n}\n\nexport async function createSite(token, payload) {\n  const res = await fetch(`${API_BASE}/sites/`, { method:'POST', headers:{'Authorization':`Bearer ${token}`, 'Content-Type':'application/json'}, body: JSON.stringify(payload) })\n  if(!res.ok) throw new Error('Create site failed')\n  return res.json()\n}\n\nexport async function uploadMedia(token, siteId, type, file, title='') {\n  const fd = new FormData()\n  fd.append('site_id', siteId)\n  fd.append('type', type)\n  fd.append('title', title)\n  fd.append('file', file)\n  const res = await fetch(`${API_BASE}/media/upload`, { method:'POST', headers:{'Authorization':`Bearer ${token}`}, body: fd })\n  if(!res.ok) throw new Error('Upload failed')\n  return res.json()\n}\n"],"mappings":"AACA,KAAM,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,aAAa,EAAI,uBAAuB,CAEzE,MAAO,eAAe,CAAAC,KAAKA,CAACC,KAAK,CAAEC,QAAQ,CAAE,CAC3C,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CAClCD,IAAI,CAACE,MAAM,CAAC,UAAU,CAAEJ,KAAK,CAAC,CAC9BE,IAAI,CAACE,MAAM,CAAC,UAAU,CAAEH,QAAQ,CAAC,CACjC,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,QAAQ,gBAAe,CAAEc,MAAM,CAAC,MAAM,CAAEC,IAAI,CAAEP,IAAK,CAAC,CAAC,CAChF,GAAG,CAACG,GAAG,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,cAAc,CAAC,CAC3C,MAAO,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,CACnB,CAEA,MAAO,eAAe,CAAAC,QAAQA,CAACC,IAAI,CAAE,CACnC,KAAM,CAAAT,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,QAAQ,mBAAkB,CAAEc,MAAM,CAAC,MAAM,CAAEO,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAEN,IAAI,CAAEO,IAAI,CAACC,SAAS,CAACH,IAAI,CAAE,CAAC,CAAC,CAChJ,GAAG,CAACT,GAAG,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,iBAAiB,CAAC,CAC9C,MAAO,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,CACnB,CAEA,MAAO,eAAe,CAAAM,SAASA,CAAA,CAAG,CAChC,KAAM,CAAAb,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,QAAQ,WAAS,CAAC,CAC7C,MAAO,CAAAW,GAAG,CAACO,IAAI,CAAC,CAAC,CACnB,CAEA,MAAO,eAAe,CAAAO,UAAUA,CAACC,KAAK,CAAEC,OAAO,CAAE,CAC/C,KAAM,CAAAhB,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,QAAQ,YAAW,CAAEc,MAAM,CAAC,MAAM,CAAEO,OAAO,CAAC,CAAC,eAAe,WAAAR,MAAA,CAAWa,KAAK,CAAE,CAAE,cAAc,CAAC,kBAAkB,CAAC,CAAEX,IAAI,CAAEO,IAAI,CAACC,SAAS,CAACI,OAAO,CAAE,CAAC,CAAC,CAC/K,GAAG,CAAChB,GAAG,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,oBAAoB,CAAC,CACjD,MAAO,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,CACnB,CAEA,MAAO,eAAe,CAAAU,WAAWA,CAACF,KAAK,CAAEG,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAAY,IAAV,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,EAAE,CACnE,KAAM,CAAAG,EAAE,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CACzBD,EAAE,CAAC1B,MAAM,CAAC,SAAS,CAAEmB,MAAM,CAAC,CAC5BO,EAAE,CAAC1B,MAAM,CAAC,MAAM,CAAEoB,IAAI,CAAC,CACvBM,EAAE,CAAC1B,MAAM,CAAC,OAAO,CAAEsB,KAAK,CAAC,CACzBI,EAAE,CAAC1B,MAAM,CAAC,MAAM,CAAEqB,IAAI,CAAC,CACvB,KAAM,CAAApB,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,QAAQ,kBAAiB,CAAEc,MAAM,CAAC,MAAM,CAAEO,OAAO,CAAC,CAAC,eAAe,WAAAR,MAAA,CAAWa,KAAK,CAAE,CAAC,CAAEX,IAAI,CAAEqB,EAAG,CAAC,CAAC,CAC7H,GAAG,CAACzB,GAAG,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,eAAe,CAAC,CAC5C,MAAO,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,CACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}