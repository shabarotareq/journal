{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\free-lancer\\\\jornal\\\\frontend\\\\src\\\\components\\\\MapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapView({\n  sites = [],\n  onSelect\n}) {\n  _s();\n  const ref = useRef(null);\n  const mapRef = useRef(null);\n  useEffect(() => {\n    if (!ref.current || mapRef.current) return;\n    const map = L.map(ref.current).setView([31.5, 34.47], 8);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OSM'\n    }).addTo(map);\n    mapRef.current = map;\n  }, []);\n  useEffect(() => {\n    const map = mapRef.current;\n    if (!map) return;\n    // clear layers first\n    map.eachLayer(layer => {\n      if (layer instanceof L.Marker) map.removeLayer(layer);\n    });\n    sites.forEach(s => {\n      const m = L.marker([s.latitude, s.longitude]).addTo(map).bindPopup(`<b>${s.title}</b>`);\n      m.on('click', () => onSelect && onSelect(s));\n    });\n  }, [sites]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map card\",\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 10\n  }, this);\n}\n_s(MapView, \"EgB2cB+i7VyYO/sZn6wb39xYEDE=\");\n_c = MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useRef","L","jsxDEV","_jsxDEV","MapView","sites","onSelect","_s","ref","mapRef","current","map","setView","tileLayer","attribution","addTo","eachLayer","layer","Marker","removeLayer","forEach","s","m","marker","latitude","longitude","bindPopup","title","on","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/free-lancer/jornal/frontend/src/components/MapView.jsx"],"sourcesContent":["\nimport React, { useEffect, useRef } from 'react'\nimport L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nexport default function MapView({ sites=[], onSelect }) {\n  const ref = useRef(null)\n  const mapRef = useRef(null)\n\n  useEffect(() => {\n    if(!ref.current || mapRef.current) return\n    const map = L.map(ref.current).setView([31.5, 34.47], 8)\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OSM' }).addTo(map)\n    mapRef.current = map\n  }, [])\n\n  useEffect(() => {\n    const map = mapRef.current\n    if(!map) return\n    // clear layers first\n    map.eachLayer(layer => { if(layer instanceof L.Marker) map.removeLayer(layer) })\n    sites.forEach(s => {\n      const m = L.marker([s.latitude, s.longitude]).addTo(map).bindPopup(`<b>${s.title}</b>`)\n      m.on('click', () => onSelect && onSelect(s))\n    })\n  }, [sites])\n\n  return <div className=\"map card\" ref={ref}></div>\n}\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjC,eAAe,SAASC,OAAOA,CAAC;EAAEC,KAAK,GAAC,EAAE;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACtD,MAAMC,GAAG,GAAGR,MAAM,CAAC,IAAI,CAAC;EACxB,MAAMS,MAAM,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE3BD,SAAS,CAAC,MAAM;IACd,IAAG,CAACS,GAAG,CAACE,OAAO,IAAID,MAAM,CAACC,OAAO,EAAE;IACnC,MAAMC,GAAG,GAAGV,CAAC,CAACU,GAAG,CAACH,GAAG,CAACE,OAAO,CAAC,CAACE,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;IACxDX,CAAC,CAACY,SAAS,CAAC,oDAAoD,EAAE;MAAEC,WAAW,EAAE;IAAQ,CAAC,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC;IACtGF,MAAM,CAACC,OAAO,GAAGC,GAAG;EACtB,CAAC,EAAE,EAAE,CAAC;EAENZ,SAAS,CAAC,MAAM;IACd,MAAMY,GAAG,GAAGF,MAAM,CAACC,OAAO;IAC1B,IAAG,CAACC,GAAG,EAAE;IACT;IACAA,GAAG,CAACK,SAAS,CAACC,KAAK,IAAI;MAAE,IAAGA,KAAK,YAAYhB,CAAC,CAACiB,MAAM,EAAEP,GAAG,CAACQ,WAAW,CAACF,KAAK,CAAC;IAAC,CAAC,CAAC;IAChFZ,KAAK,CAACe,OAAO,CAACC,CAAC,IAAI;MACjB,MAAMC,CAAC,GAAGrB,CAAC,CAACsB,MAAM,CAAC,CAACF,CAAC,CAACG,QAAQ,EAAEH,CAAC,CAACI,SAAS,CAAC,CAAC,CAACV,KAAK,CAACJ,GAAG,CAAC,CAACe,SAAS,CAAC,MAAML,CAAC,CAACM,KAAK,MAAM,CAAC;MACvFL,CAAC,CAACM,EAAE,CAAC,OAAO,EAAE,MAAMtB,QAAQ,IAAIA,QAAQ,CAACe,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC;EACJ,CAAC,EAAE,CAAChB,KAAK,CAAC,CAAC;EAEX,oBAAOF,OAAA;IAAK0B,SAAS,EAAC,UAAU;IAACrB,GAAG,EAAEA;EAAI;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACnD;AAAC1B,EAAA,CAvBuBH,OAAO;AAAA8B,EAAA,GAAP9B,OAAO;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}